<div class="container">
    <h1>Form Validation</h1>
    <form id="myForm">
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" class="form-control" id="name" name="name" placeholder="Student" value="Student">
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" class="form-control" id="password" name="password" minlength="8" required>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </form>
</div>
<script>

$('#myForm').validate({
    rules: {
        name: 'required',
        email: {
            required: true,
            email: true
        },
        password: {
            required: true,
            minlength: 8,
            maxlength: 20
        }
    },
    messages: {
        name: 'Please enter your name',
        email: {
            required: 'Please enter your email',
            email: 'Please enter a valid email address'
        },
        password: {
            required: 'Please enter a password',
            minlength: 'Password must be at least 8 characters long',
            maxlength: 'Password cannot be longer than 20 characters',
        }
    },
    submitHandler: function (form) {
        try {
            // Block UI on form submission
            $.blockUI({ message: '<div class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></div>' });
            // Reset the form
            $(form)[0].reset();
            // Unblock UI after request is complete

            setTimeout(function(){
                console.log('time out')
                $.unblockUI();
            }, 3000)
            
        } catch (error) {
            console.error('Error in submitHandler:', error);
            alert('An error occurred. Please try again later.');
            // Unblock UI after request is complete
            $.unblockUI();
        }
    }
});

</script>
</html>